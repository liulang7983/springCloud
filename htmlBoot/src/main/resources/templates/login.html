<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <script type="text/javascript" src="../static/js/jquery-1.7.2.js"></script>
  <title>登录</title>
</head>

用户名
<input type="text" id="name"/>
<br>
密码
<input type="password" id="password">
<br>
<input type="button" value="登录" id="submit" onclick="login()">

</body>
<script type="text/javascript">
  // $(function () {
  //   $("#submit").click(function () {
  //     $.ajax({
  //       url:"http://localhost:8080/index/login",
  //       type: "post",
  //       async:true,
  //       data: {"name":$("#name").val(),"password":$("#password").val()},
  //       dataType:"json",
  //       success:function (data,status) {
  //         console.log(data);
  //         console.log(status)
  //         // if(data.toString()=="true"){
  //         //   alert("登录成功");
  //         // }else {
  //         //   alert("用户名或密码错误")
  //         // }
  //       },
  //       error:function (data,status){
  //         console.log(data.code);
  //         console.log(status);
  //         alert('结果:'+data);
  //       }
  //     });
  //   });
  // });

  function login(){
    var name = document.getElementById("name").value;
    var password = document.getElementById("password").value;
    $.ajax({
      type: "POST",
      url: "http://localhost:8080/index/login",
      data:{
        name: name,
        password: password
      },
      dataType: "json",
      async:false,
      success: function (data){
        console.log(data);
        var msg = data.msg;
        alert(msg);
      }
    })
  }
</script>
</html>
