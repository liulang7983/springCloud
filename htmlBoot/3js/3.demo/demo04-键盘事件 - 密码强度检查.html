<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>键盘事件 - 密码强度检查</title>
		<!--
			在用户输入密码的同时，给出密码强度的提示
			如果密码长度小于6位，就是提示 过短
			如果大于6位
			分为4个档次，要由数字、大写字母、小写字母、符号组成
			分为低、中、高、完善
		-->
		<style type="text/css">
			
			#div1{
				background-image: url(img/1.png);
				height: 30px;
				width: 50px;
				text-align: center;
				color: white;
				line-height: 30px;
				background-position: center;
			}
			#div2{
				background-image: url(img/2.png);
				height: 30px;
				width: 100px;
				text-align: center;
				color: white;
				line-height: 30px;
				background-position: center;
			}
			#div3{
				background-image: url(img/3.png);
				height: 30px;
				width: 150px;
				text-align: center;
				color: white;
				line-height: 30px;
				background-position: center;
			}
			#div4{
				background-image: url(img/4.png);
				height: 30px;
				width: 200px;
				text-align: center;
				color: white;
				line-height: 30px;
				background-position: center;
			}
			#div5{
				background-image: url(img/5.png);
				height: 30px;
				width: 250px;
				text-align: center;
				color: white;
				line-height: 30px;
				background-position: center;
			}
			
			
		</style>
		
		
	</head>
	
	<body>
		
		密码：<input id="upwd" type="text" onkeyup="checkPwd()" /><br />
		<div id="div1">过短</div>
		<div id="div2">弱</div>
		<div id="div3">中</div>
		<div id="div4">高</div>
		<div id="div5">完善</div>
	</body>
	
	<script type="text/javascript">
		hideAll();
		function test(){
			var upwd = document.getElementById("upwd");
			alert(upwd.value.length);
		}
		
		function checkPwd(){
			// 获得控件的值
			var upwd = document.getElementById("upwd").value;
			
			// 计算密码强度
			var level = 1;
			var num = 0;
			var upper = 0;
			var lower = 0;
			var other = 0;
			
			if(upwd.length >= 6){
				for(var i = 0; i < upwd.length ; i++){
					var c = upwd.charAt(i);					
					
					if(c >= '0' && c <= '9'){
						num = 1;
					} else if(c >= 'a' && c <='z'){
						lower = 1;
					}else if(c >= 'A' && c <= 'Z'){
						upper = 1;
					}else{
						other = 1;
					}
					
				}
				
				level += num + upper + lower + other;
				
			}
			
			showPwdPower(level);
			
		}
		
		// 显式其中一个div
		function showPwdPower(level){
			hideAll();
			//修改具体的div显示
			document.getElementById("div" + level).style.display = "block";
		}

		function hideAll(){
			// 修改了css属性 默认不显示
			document.getElementById("div1").style.display="none";	// none - block
			document.getElementById("div2").style.display="none";
			document.getElementById("div3").style.display="none";
			document.getElementById("div4").style.display="none";
			document.getElementById("div5").style.display="none";
		}

	</script>
	
</html>
